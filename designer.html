<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>三国霸业</title>
        <link rel="icon" href="favicon.png">
        <link rel="stylesheet" type="text/css" href="css/flex.css" />
        <link rel="stylesheet" type="text/css" href="css/baye.css" />
        <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "//hm.baidu.com/hm.js?55cdc246d0c836cecfdf39ce0d5657f3";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
        </script>
        <script src="js/jquery.min.js"></script>
        <script src="js/encoding-indexes.js"></script>
        <script src="js/encoding.js"></script>
        <script src="js/sprintf.js"></script>
    </head>
    <body onkeydown="onKeyDown()">
        <div layout="row center-center" >
            <div class="container" style="width:780px">
                <canvas class="fill" id="lcd" width="160" height="96">然而你的浏览器并不支持HTML5</canvas>
            </div>
        </div>
        <p></p>
        <div layout="row center-center" >
            <div style="width:480px" >
                <div>
                    <script>
                        if (window.FileReader === undefined) {
                            document.write('你的浏览器不支持载入Lib');
                        } else {
                            document.write('载入Lib: <input type="file" onchange="loadLib(this.files)">');
                        }
                    </script>
                    <input type="button" onclick="clearLib()" value="清除Lib">
                </div>
                <br>
                <div id="lib-name"></div>
            </div>
        </div>
    </body>
</html>
<script src="js/idbkvstore.min.js?ver=202111140022"></script>
<script src="js/bridge.js?ver=202111140022"></script>
<script src="js/lcd.js?ver=202111140022"></script>
<script>
    Module['noInitialRun'] = true;
    Module['postRun'] = function(){
        loadLibDefault(() => {
            baye.drawMap = function(wid, hgt, matrix) {
                baye.resizeScreen(wid*16, hgt*16);
                for (var col = 0; col < wid; col++) {
                    for (var row = 0; row < hgt; row ++) {
                        var ind = matrix[row*wid + col];
                        baye.drawImage(col*16, row*16, 4, 0, ind);
                    }
                }
            }
            lcdInit();
            _bayeGameEnvInit();
        });
    };
</script>
<script src="js/baye.js?ver=202111140022"></script>

